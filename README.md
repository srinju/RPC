

# rpc - remote procedure calls

rpc is like 
when we used to do
const response  = await axios.get("",{
    .....
})

wouldnt it be nice if there is a function called getData and we call it and it gets the job done for the above

that is called rpc where all the logic is written somewhre else and we call it in other place to make things easier 

benifits rpcs provides are >>

better types that we get from the response

we arre stll using json but that s okay grpc solves it later (json is slow af)

if we can get autogenerated code for all languages , then this becmes language agniostic

rpc call under the hood>>>

![alt text](image.png)

in an rpc this reques looks mostly like this
tthey dont expect you to mmention any route like getTodos , getBalanmce
the url remaions the same  , just the method inside the request changes 
which does the job done
(NOTE THIS IS A DUMB JSON RPC IMPLEMENTATION)

this is the kind of body and kind of body we get will doing rpc
notice that we are not putting any route there
the url remains the same>
in the body there is a jsonrpc that means it is doing a rpc call
adn there is the method we wnat that is the getBalance , we want to get the balamce so in the rpc body we will pass the method
and also in the params that is the argument we want to pass it to the other side 

what really happens in a rpc server is that we write a file with all the method
and a client/file like the dumb rpc server is automatically generaated 
then we dont have to worry to send all four of the params , id , method , jsonrpc 
then we can just do a const result  = await add();
and that will get the job done
the request body is a default json rpc format


# proto buffs > (like json , xml ...etc)

Protocol buffers are Google’s language-neutral, platform-neutral, extensible mechanism for serializing structured data – think XML, JSON.

what proo buffs(pbf) does is that you can have your data sructure format(like json) in any forma
it could be a sring a araray ..etc ..etc
what pbf does is that it zips the size of the file to bwe very less

in json forma the sereialisation and deserialisaion of he json forma is a expensive and requires high compue tha is y performance matrix is a quesion in normal node js processes

json is very large size and also very expensicve , here pbfs solves the issue  , by zipping the size of the
data files  , which makes the server fast and can do read and write operations very fast than a normal nodeJs server

i is kind of similar to an openapispec file where you haeve to define how your daa is gonna loolk(schema) data a one place

# a proto file looks like this >

syntax = "proto3";

message Person {
    string name = 1; //we have this numbers stored as his file will get decoded and then encodeed
    //so if somehing happens like one object moves up and one down and that would change the decoded message completely , unless they have a number atached to them
    int age  = 2;
}

message personService {
    //add a person o the address bank >
    rpc AddPerson(person) returns (person);

    //get a person from their name
    rpc GetPersonByName(GePersonByNameReques) returns person;
}

message GetPersonalByNameRequest {
    string name = 1;
}


this gets decoded to json as >

{
    "name" : 1,
    "age" : 2
}
....etc


# grpc


another bad thing about node express servers are that the data getting back from a response has the type any
anad when ur software is at a large scale and it has multiple backends and data needs to go from one be to another be and so on
or backend written in other languages too then it becomes very difficult to infer types of the data coming from the other backend
and often resukt to compile time errors in the prod at high scale
this is another use case where grpc comes into the picture at scale

Json is very slow and it is very big 

it compresses thee data that are being transferred to and frowth and that resukts in high computation and faster servers
it narrow downs the bandwidth cost of the servers computations
and we can use smaller ec2 machines for grpc servers as they are very fsat and good 

so grpc lets you do remote procedure calls
and it reduces the data transfer(proroBuffs) layer compressed

trpc you can hove very strict types in both fronend and the backend where the data types are very
strict so that in a place where there is multiple backends the data types dosent get mixed up
and we are able to place them nicely

whereas he rpc is sending json while doing remoet procedure calls

and grpc is compresssing the json format making the channel less dense and hence provide better performance
between microservices in a vast application

